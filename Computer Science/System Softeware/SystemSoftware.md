# 시스템 소프트웨어
1. 클라우드 컴퓨팅과 AWS, 리눅스
    + 클라우드 컴퓨팅 서비스 : 서버 환경을 미리 구축해놓고, 간단한 설정으로 바로 사용할 수 있도록 만든 서비스
        - 일종의 컴퓨터를 빌리는 거라고 생각하면 됨
***
2. 클라우드 컴퓨팅 설정 - 리눅스 설치
    + EC2(서버) 생성 (우분투 리눅스 OS기반)
        - 먼저 AWS 로그인
        - 오른쪽 위에 사용할 서버 지역 설정(어떤 지역에 있는 실제 컴퓨터를 할당 받음)
        - 실제 서버를 인스턴스라고 함(무료는 인스턴스 하나만 생성 가능)
        - 인스턴스 생성 방법
            - OS 선택
            - 서버 사양 선택
            - 키페어 만들기(엑세스 권한을 위해)
            - 저장 공간 선택(무료는 최대 30GB)
            - 인스턴스 시작
        - 고정 IP 설정(IP는 어떤 경로를 따라 계속 바뀔 수 있기 때문에 항상 고정된 IP 주소를 사용 하기 위해 설정함)
            - 탄력적 IP탭 선택
            - 탄력적 IP 주소 할당 선택
            - 연결할 인스턴스 IP 선택
        - 서버 접속하기
            - 구글 접속
            - putty 검색(서버 접속할때 보안 설정을 지원 하기위한 툴)
            - putty_msi, puttygen 다운로드
            - putty설치 후 puttygen 열기
            - conversions 탭에서 importkey
            - save private key => 윈도우즈에서 서버에 접속 하기 위한 키를 만들어 낸 것 위의 고정 IP 설정 하면서 키를 만들어 낸것을 기반으로 만듬
            - putty 실행
            - SSH -> auth -> browse 선택
            - 위에서puttygen으로 만들어낸 키 선택(ppk 파일)
            - session으로 이동 - Host Name에 고정 IP입력
            - Save Sessions에 이름 설정 후 Save
            - Sessions 선택 후 Open 하면 서버에 접속 성공
***
3. 리눅스 명령어([명령어 모음](https://dora-guide.com/linux-commands/))
    + 리눅스와 권한
        - 운영체제는 사용자/리소스 권한을 관리
        - 리눅스는 사용자/그룹으로 권한을 관리
        - root는 슈퍼 관리자
        - 파일마다 소유자, 소유자 그룹, 모든 사용자에 대해
            - 읽고, 쓰고, 실행하는 권한을 관리
    + 파일 기본 명령어
        - pwd - 현재 디렉토리 위치 출력
        - cd - 디렉토리 이동 - 공부하기 전에 리눅스 파일 시스템 구조 부터 이해해 두면 편함[리눅스 파일 시스템](https://webdir.tistory.com/101)
            - 하위 폴더 이동 - cd 하위 폴더 이름
            - 상위 폴더 이동 - cd ..
            - 홈 폴더 이동 - cd ~
            - 절대 경로로 이동 - cd 절대 경로
        - ls - 현재 폴더의 파일 목록 출력
            - 옵션
                - -a : 숨필 파일/폴더 출력
                - -l : 상세히 출력(리스트로 출력)
                    - 포멧 읽기,쓰기,실행 권한_연결 파일  개수_사용자ID_그룹ID_파일 크기_파일 생성일자_파일명
                    - [리눅스 ls 포멧](https://codechacha.com/ko/linux-file-permissions/)
        - chmod - 파일 권한 변경
            - 옵션
                - R : 하위 디렉토리까지 모두 권한 변경
        - cat - 파일 보기
        - rm - 파일 및 폴더 삭제 (이로인해 root관리자로는 작업 을 하지 않는다.)
            - 옵션
                - -r : 하위 디렉토리를 포함한 모든 파일 삭제
                - -f : 강제로 파일이나 디렉토리 삭제
        - mkdir - 폴더 생성
    + 다른 명령어
        - grep - 검색 명령
            - 옵션
                - -i : 영어의 대소문자를 구별하지 않고 검색
                - -v : pattern을 포함하지 않는 라인을 출력
                - -n : 검색 결과의 각 행의 선두에 행 번호를 넣는다.
                - -l : 파일명만 출력한다.
                - -c : 패턴과 일치하는 라인의 개수만 출력한다.
                - -r : 하위 디렉토리까지 검색한다.

    + 리다이렉션
        - Standard Stream(표준 입출력)
            - command로 실행되는 프로세스는 세 가지 스트림을 가짐
                - 표준 입력 스트림
                - 표준 출력 스트림
                - 오류 출력 스트림
            - 일반적으로 표준 출력 및 오류 출력 스트림은 plain text로 console에 출력하도록 되어 있음
        - 리다이렉션
            - 표준 스트림의 흐름을 바꿔 준다
                - \>,<를 사용
                - 주로 명령어 표준 출력을 화면이 아닌 파일에 쓸 때 사용
            - 기존 파일에 추가는 >> 또는 << 사용
                - ls >> files.txt
                - 기존에 있는 files.txt 파일 끝에 ls 출력을 이어 붙여줌
    + 파이프
        - 두 프로세스 사이에서 한 프로세스의 풀력 스트림을 또다른 프로세스의 입력 스트림으로 사용할 때 사용됨
            - ex) ls | grep files.txt
                - ls 명령을 통한 출력 내용이 grep 멸령의 입력 스트림으로 들어감
                - grep files.txt는 grep 명령의 입력 스트림을 검색해서 files.txt가 들어 있는 입력 내용만 출력해줌
                - 따라서, ls 명령으로 해당 디렉토리/파일 중에 files.txt 파일이 있는지를 출력해줌
***
4. 포그라운드와 백그라운드
    + 프로세스 vs 바이너리
        - 코드 이미지 또는 바이널 : 실행 파일을 의미
        - 실행 중인 프로그램: 프로세스
            - 가상 메모리 및 물리 메모리 정보
            - 시스템 리소스 관련 정보
            - 스케쥴링 단윈
    + 리눅스는 다양한 프로세스 실행 환경이다.
        - 리눅스는 기본적으로 다양한 프로세스가 실행됨
            - 유닉스 철학 : 여러 프로그램이 서로 유기적으로 각자의 일을 수행하면서 전체 시스템이 동장하도록 하는 모델
    + 포그라운드 프로세스(foreground process)
        - 쉘에서 해당 프로세스 실행을 명령한 후, 해당 프로세스 수행 종료까지 사용자가 다른 입력을 하지 못하는 프로세스
    + 백그라운드 프로세스(background process)
        - 사용자 입력과 상관 없이 실행되는 프로세스
            - 쉘에서 해당 프로세스 실행시, 맨 뒤에 & 를 붙여줌
            - 출력에 \[번호1\] 번호2 이렇게 나오는데 번호 1은 프로세스 번호, 번호2 는 프로세스 ID
            - jobs 명령어 - 현재 백그라운드에서 진행중인 작업 내용을 보여줌
            - jb % 프로세스 번호 - 해당 프로세스를 포그라운드로 전환
    + 포그라운드 제어하기
        - CTRL + C : 프로세스 작업 취소(해당 프로세스는 완전히 종료)
    + 프로세스 상태 확인 - ps 명령어
        - 사용법 : ps \[옵션\]
        - 옵션
            - -a : 시스템을 사용하는 모든 사용자의 프로세스 출력(보통 aux와 같이 u, x옵션과 함께 사용)
            - -u : 프로세스 소유자에 대한 상세 정보 출력
            - -l : 프로세스 관련 상세 정보 출력
            - -x : 터미널에 로그인한 후 실행한 프로세스가 아닌 프로세스들도 출력, 주로 데몬 프로세스(daemon process:24시간 실행되는 프로세스)까지 확인 하기 위해 사용, 본래 ps 명령은 현재 쉘에서 실행한 프로세스들만 보여주기 때문에 이 옵션을 사용하는 경우가 많음
            - -e : 해당 프로세스와 관련된 환경 변수 정보도 함께 출력
            - -f : 프로세스 간 관계 정보도 출력
    + 프로세스 중지 시키기 - kill 명령어
        - 사용법 
            - a. kill % 작업 번호
            - b. kill 프로세스 번호
            - c. 작업 강제 작업 종료 kill -9 프로세스 번호
***
5. 하드 링크와 소프트 링크
    + cp 명령 : 파일 복사
        - 1MB 사이즈를 가지고 있는 A 파일을 B파일로 복사
            - cp A B -> A와 B는 각각 물리적으로 10MB 파일로 저장
        - 파위 폴더 포함 복사하기
            - cp - rf * 폴더
    + 하드 링크 : ln A B
        - A와 B는 동일한 10MB 파일을 가리킴
        - 즉, 동일한 파일을 가진 이름을 하나 더 만든 것일 뿐
            - 전체 파일 용량은 달라지지 않음
        - 위와 같이 하면 A파일을 변경시 B파일도 변경됨
        - 위 상황에서 A를 삭제 하더라도 B는 남아있음
    + 소프트(심볼릭) 링크 : ln -s A B -> 생각보다 많이 사용
        - windows OS 바로가기와 동일
        - ls -al 하면 소프트 링크 확인 가능
        - rm A로 A를 삭제하면 B는 해당 파일 접근 불가
***
6. 리눅스 패키지 시스템과 우분투 이해하기
    + 우분투 배포판
        - 다양한 배포판 중 하나
        - 데비안 배포판을 기반으로 캐노니컬 사가 우분투 배포판 개발
            - 데비안 배포판은 apt 프로그램을 이용해서 소프트웨어 설치 및 업데이트를 간편하게 한 패키지
         - 우분투 데스크탑 배포판과 우분투 서버 배포판, 두가지 기본 배포판을 제공
         - 지원 기간이 짧은 일반 버번과 지원 기간이 장기인 LTS 버전으로 나누서 발표
    + 우분투 패키지 관리자
        - CentOS나 Fedora와 같은 RedHat 계열 배포판은 RPM 이라는 패키징 시스템을 사용함
        - 우분투와 같이 데비안 계열 배포판은 dev라는 패키징 시스템을 사용함
        - 패키지와 패키지 정보를 저장하고 있는 패키지 저장소라는 개념을 가지고 있음
        - 소프트웨어 패치, 추가등 정보를 관리
        - 우분투 사용자가 패키지 관리자를 통해 패키지 저장소에 접근하면, 소프트웨어 변경사항을 알려주고 업데이트, 다운로드등을 지원
    + 패키지 관리 실무
        - 패키지 인덱스 정보 업데이트(배포판 버전에 따른 패키지 업데이트 버전 정보 등)
            - sudo apt-get update
        - 설치된 우분투 패키지 업그레이드(함부로 하지 말 것!)
            - sudo apt-get upgrade
        - 패키지 설치
            - sudo apt-get install 패키지 명
        - 패키지 삭제(설정 파일 제외)
            - sudo apt-get remove 패키지 명
        - 패키지 삭제(설정파일 포함)
            - sudo apt-get --purge remove 패키지 명
***
7. VI 에디터 이해하기
    + VIM 에디터 이해 및 설치
        - Vi : 전통적인 유닉스 에디터(개발자: 빌 조이), Visual Editor의 줄임말
        - Vim은 Vi에 자동화, 시각화 메뉴등을 추가한 프로그램
        - Vim 이외에 이맥스라는 유명한 에디터가 있음
    + vim 모드
        - 일반 모드 :  처음 vim을 실행했을 때 또는 입력 모드/명령 모드에서 ESC 입력 시 - 찾기, 커서 이동등
        - 명령(명령행) 모드 : 일반 모드에서 : 입력 시 - 저장, 파일읽기, vim 설정등
        - 입력(편집) 모드: 일반 모드에서 a 또는 i 또는 o 키 입력 시  내용 입력
        - visual 모드 : 일반 모드에서 v입력 시 - 블럭 복사/붙이기
    + vim 초간단 사용법(모든 사용법은 구글링 너무 많음...)
        - 입력 모드 진입
            - i 포커스 잡힌 커서 위치에서 편집 모드 시작
            - a 포커스 잡히 커서의 다음 문자에서 편집 모드 시작
        - 블록 지정 및 복사
            - v : 단어 단위로 블럭 지정.
            - shift + v : 라인 단위로 블럭 지정.
            - y : 지정된 블럭을 복사.
            - p : 복사된 블럭을 현제 커서에 붙인다.
            - u : 직전 실행 작업 취소 
        - 삭제
            - x : 커서의 한 문자를 삭제한다.
            - dd : 커서의 현제 라인을 삭제한다.
            - shfit + j : 커서의 아랫라인과 현재 라인을 하나씩 라인으로 합침 
    + vim 설정
        - 명령 모드에서 set all 입력(결국: set all 입력 후 엔터)
            - vim에서 설정할 수 있는 모든 옵션이 나옴
        - ~/.vimrc 파일에 필요한 vim 설정을 할 수 있음
***
8. 쉘 스크립트의 이해(일단 여기서 멈춤 여기는 반드시 알아야할 내용은 아님)
    + 쉘을 사용해서 프로그래밍을 할 수 있음
        - 쉘을 사용해서 프로그래밍을 할 수 잇음
        - 서버 작업 자동화 및 운영(DevOps)을 위해 기본적으로는 익혀둘 필요가 있음
        - 쉘 명령어를 기본으로 하되, 몇 가지 문법이 추가된 형태
        - 시스템 프로그래밍에서 꼭 익히는 내용 중 하나
    + 기본 문법
        - 쉘 스크립트는 파일로 작성 후, 파일을 실행
        - 파일의 가장 위의 첫 라인은  '#!/bin/bash'로 시작
        - 쉘 스크립트 파일은 실행 권한을 가지고 있어야 함
        - 일반적으로 '파일이름.sh' 와 같은 형태로 파일 이름을 작성함
        - 반드시 실행 권한을 줘야함
    + 주석
        - #으로 시작함
    + 변수 - 띄어쓰기 사용 안됨
        - 선언
            - 변수명=데이터
        - 사용
            - $변수명 으로 사용
    + 리스트 변수(배열)
        - 선언
            - 변수명=(데이터1,데이터2,데이터3)
        - 사용
            - $(변수명[인덱스번호])
        ```
            echo ${damons[1]} daemons배열의 1번 인덱스 데이터 출력
            echo ${damons[*]} daemons배열의 모든 데이터 출력
            echo ${damons[@]} daemons배열의 모든 데이터 출력
            echo ${#damons[@]} daemons배열의 크기 출력

            fileList=($(ls))  #명령의 결과를 리스트로 만들기
        ```
    + 사전에 정의된 변수들
        - $$ : 쉘의 프로세스 번호
        - $0 : 쉘스크립트 이름
        - $1 ~ $9 : 명령줄 인수(일반 프로그램에서 args라 생각하면 됨)
        - $* : 모든 명렬줄 인수 리스트
        - $# : 인수의 개수
        - $? : 최근 실행한 명령어의 종료 값
            - 0 성공, 1 ~ 125(에러),
            - 126 (파일이 실행가능하지 않음)
            - 128 ~ 255 (시그널 발생)
    + 연산자
        - expr : 숫자 계산, 쿼토를 사용해야 함
        - 연산자와 *과 ()괄호 앞에는 역슬레시와 같이 사용해야함
        - 연산자와 숫자, 변수, 기호 사이에는 space를 넣어야 함
        ```
            num = `expr \{ 3 \* 5 \} / 4 + 7`
            echo $num
        ```
    + 조건문
        - 기본 if구문
            - 명령문을 꼭 탭으로 띄워야 하는 것은 아님 then과 fi안에만 들어 있으면 됨
        ```
            if [ 조건 ]
            then
                명령
            else
                명령
            fi
        ```
        - 조건
        ```
            문자1 == 문자2  문자1과 문자2가 일치
            문자1 != 문자2  문자1과 문자2가 일치하지 않은지
            ~z 문자         문자가 null 이면 참
            ~n 문자         문자가 null 이 아니면 참
            값1 -eq 값2     값이 같음
            값1 -ne 값2     값이 같지 않음
            값1 -lt 값2     값1이 값2보다 작음
            값1 -le 값2     값1이 값2보다 작거나 같음
            값1 -gt 값2     값1이 값2보다 큼
            값1 -ge 값2     값1이 값2보다 크거나 같음

            파일 검사
            -e 파일명       파일이 존재하면 참
            -d 파일명       파일이 디렉토리면 참
            -h 파일명       심볼릭 링크파일이면 참
            -f 파일명       파일이 일반파일이면 참
            -r 파일명       파일이 읽기 가능이면 참
            -s 파일명       파일 크기가 0이 아니면 참
            -u 파일명       파일이 set-user-id가 설정되면 참
            -w 파일명       파일이 쓰기 가능 상태이면 참
            -x 파일명       파일이 실행 가능 상태이면 참
        ```
    + 반복문
        - 기본 for 구문
        ```
            for 변수 in 변수값1 변수값2 ...
            do 
                명령문
            done
        ```
        - 기본 while 구문
        ```
            while [조건문]
            do
                명령문
            done
        ```
    + 압축명령
        - tar
        - 리눅스에서는 여러 파일을 한 파일로 묶는 것을 아카이브라고 함
            - 파일 확장자는 tar
        - 리눅스에서 파일 압축은 두단계로 진행
            1. 아카이브로 만듬
            2. gzip 프로그램을 사용해서 압축함  + 파일 확장자는 tar.zip
        - 옵션
            - x - 묶음을 해제
            - c - 파일을 묶음
            - v - 묶음/해제 과정을 화면에 표시
            - z - gunzip을 사용
            - f - 파일 이름을 지정
        - 자주 사용 예
            - 압축시
                - tar -cvzf [압축된 파일 이름] [압축할 파일이나 폴더명]
            - 압축 해제시
                - tar -xvzf [압축 해제할 압축 아카이브 이름]
